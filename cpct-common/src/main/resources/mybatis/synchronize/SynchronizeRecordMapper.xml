<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zjtelcom.cpct.dao.synchronize.SynchronizeRecordMapper">
  <resultMap id="BaseResultMap" type="com.zjtelcom.cpct.dto.synchronize.SynchronizeRecord">
    <id column="CREATE_ID" jdbcType="BIGINT" property="createId" />
    <result column="SYNCHRONIZE_NAME" jdbcType="VARCHAR" property="synchronizeName" />
    <result column="SYNCHRONIZE_ID" jdbcType="VARCHAR" property="synchronizeId" />
    <result column="ROLE_NAME" jdbcType="VARCHAR" property="roleName" />
    <result column="SYNCHRONIZE_TIME" jdbcType="TIMESTAMP" property="synchronizeTime" />
    <result column="SYNCHRONIZE_TYPE" jdbcType="INTEGER" property="synchronizeType"/>
  </resultMap>



  <!--主键id已设置为自增-->
  <insert id="insert" parameterType="com.zjtelcom.cpct.dto.synchronize.SynchronizeRecord">
    insert into sys_synchronize_record (SYNCHRONIZE_NAME, SYNCHRONIZE_ID,
      ROLE_NAME, SYNCHRONIZE_TIME,SYNCHRONIZE_TYPE)
    values (#{synchronizeName,jdbcType=VARCHAR}, #{synchronizeId,jdbcType=VARCHAR},
      #{roleName,jdbcType=VARCHAR}, now(),#{synchronizeType,jdbcType=INTEGER})
  </insert>




  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select CREATE_ID, SYNCHRONIZE_NAME, SYNCHRONIZE_ID, ROLE_NAME, SYNCHRONIZE_TIME,SYNCHRONIZE_TYPE
    from sys_synchronize_record
  </select>


  <select id="selectList" resultMap="BaseResultMap" parameterType="com.zjtelcom.cpct.dto.synchronize.SynchronizeRecord">
    select
    CREATE_ID, SYNCHRONIZE_NAME, SYNCHRONIZE_ID, ROLE_NAME, SYNCHRONIZE_TIME,SYNCHRONIZE_TYPE
    from sys_synchronize_record
    <where>1!=2
    <if test="createId != null and createId != ''">
      and CREATE_ID = #{createId}
    </if>
    <if test="synchronizeType != null">
      and SYNCHRONIZE_TYPE = #{synchronizeType}
    </if>
    <if test="startTime != null and startTime != ''" >
      and SYNCHRONIZE_TIME &gt;= #{startTime}
    </if>
    <if test="endTime != null and endTime != ''" >
      and SYNCHRONIZE_TIME &lt;= #{endTime}
    </if>
    </where>
    order by SYNCHRONIZE_TIME desc
  </select>


</mapper>